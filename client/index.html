<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AudioChat - –ì–æ–ª–æ—Å–æ–≤—ã–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé§</text></svg>">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞ -->
        <div id="citySelection" class="screen active">
            <div class="container">
                <h1>üé§ AudioChat</h1>
                <p class="subtitle">–ì–æ–ª–æ—Å–æ–≤—ã–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ –ø–æ –≥–æ—Ä–æ–¥–∞–º</p>
                
                <div class="user-form">
                    <input type="text" id="userName" placeholder="–í–∞—à–µ –∏–º—è" maxlength="20">
                    <input type="number" id="userAge" placeholder="–í–æ–∑—Ä–∞—Å—Ç" min="18" max="99">
                    <select id="userGender">
                        <option value="">–ü–æ–ª</option>
                        <option value="male">–ú—É–∂—Å–∫–æ–π</option>
                        <option value="female">–ñ–µ–Ω—Å–∫–æ–π</option>
                    </select>
                </div>
                
                <div class="cities-grid" id="citiesGrid">
                    <!-- –ì–æ—Ä–æ–¥–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                
                <div class="features">
                    <div class="feature">üé§ –ì–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç</div>
                    <div class="feature">üí¨ –¢–µ–∫—Å—Ç–æ–≤—ã–π —á–∞—Ç</div>
                    <div class="feature">üèôÔ∏è –ü–æ–∏—Å–∫ –ø–æ –≥–æ—Ä–æ–¥–∞–º</div>
                </div>
                
                <div id="formError" class="error"></div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –æ–∂–∏–¥–∞–Ω–∏—è -->
        <div id="waitingScreen" class="screen">
            <div class="container">
                <div class="loading">
                    <div class="audio-wave">
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                    </div>
                    <h2>–ò—â–µ–º –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –¥–ª—è –∞—É–¥–∏–æ-—á–∞—Ç–∞...</h2>
                    <p>–û–∂–∏–¥–∞–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</p>
                    <div class="room-info">
                        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–Ω–ª–∞–π–Ω –≤ –≤–∞—à–µ–º –≥–æ—Ä–æ–¥–µ: <span id="usersCount">0</span>
                    </div>
                    <button id="cancelSearch" class="btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∞—É–¥–∏–æ—á–∞—Ç–∞ -->
        <div id="audioChat" class="screen">
            <div class="audio-container">
                <div class="user-card local-user">
                    <div class="avatar">üé§</div>
                    <div class="user-name">–í—ã</div>
                    <div class="user-details" id="userDetails"></div>
                    <div class="volume-indicator">
                        <span>–ì—Ä–æ–º–∫–æ—Å—Ç—å:</span>
                        <span id="volumeIndicator">‚ñë‚ñë‚ñë‚ñë‚ñë</span>
                    </div>
                </div>
                
                <div class="connection-section">
                    <div class="connection-indicator">
                        <div class="pulse"></div>
                        <div id="connectionStatus" class="status-text">üîó –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</div>
                        <div id="audioStatus" class="status-active">üîä –ê—É–¥–∏–æ –∞–∫—Ç–∏–≤–Ω–æ</div>
                    </div>
                </div>

                <div class="user-card partner-user">
                    <div class="avatar" id="partnerAvatar">üë§</div>
                    <div class="user-name" id="partnerName">–ü–∞—Ä—Ç–Ω–µ—Ä</div>
                    <div class="user-details" id="partnerDetails"></div>
                    <div class="partner-status">–ì–æ–≤–æ—Ä–∏—Ç...</div>
                </div>
            </div>

            <div class="controls">
                <button id="muteAudio" class="control-btn">üé§</button>
                <button id="nextPartner" class="control-btn next-btn">‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π</button>
                <button id="hangUp" class="control-btn hangup-btn">üìû –ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
            </div>

            <div class="chat-container">
                <div class="chat-header">üí¨ –¢–µ–∫—Å—Ç–æ–≤—ã–π —á–∞—Ç</div>
                <div class="chat-messages" id="chatMessages">
                    <div class="system-message">–ê—É–¥–∏–æ-—á–∞—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω. –ì–æ–≤–æ—Ä–∏—Ç–µ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –æ–±—â–∞–π—Ç–µ—Å—å –≤ —á–∞—Ç–µ!</div>
                </div>
                <div class="chat-input">
                    <input type="text" id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." maxlength="500">
                    <button id="sendMessage">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
            </div>

            <div class="partner-info">
                <span id="partnerInfo">–û–∂–∏–¥–∞–µ–º –ø–∞—Ä—Ç–Ω–µ—Ä–∞...</span>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>